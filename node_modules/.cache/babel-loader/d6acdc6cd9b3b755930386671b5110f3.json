{"ast":null,"code":"'use strict';\n/*\n Copyright 2012-2015, Yahoo Inc.\n Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\nconst INDENT = '  ';\n\nfunction attrString(attrs) {\n  return Object.entries(attrs || {}).map(_ref => {\n    let [k, v] = _ref;\n    return ` ${k}=\"${v}\"`;\n  }).join('');\n}\n/**\n * a utility class to produce well-formed, indented XML\n * @param {ContentWriter} contentWriter the content writer that this utility wraps\n * @constructor\n */\n\n\nclass XMLWriter {\n  constructor(contentWriter) {\n    this.cw = contentWriter;\n    this.stack = [];\n  }\n\n  indent(str) {\n    return this.stack.map(() => INDENT).join('') + str;\n  }\n  /**\n   * writes the opening XML tag with the supplied attributes\n   * @param {String} name tag name\n   * @param {Object} [attrs=null] attrs attributes for the tag\n   */\n\n\n  openTag(name, attrs) {\n    const str = this.indent(`<${name + attrString(attrs)}>`);\n    this.cw.println(str);\n    this.stack.push(name);\n  }\n  /**\n   * closes an open XML tag.\n   * @param {String} name - tag name to close. This must match the writer's\n   *  notion of the tag that is currently open.\n   */\n\n\n  closeTag(name) {\n    if (this.stack.length === 0) {\n      throw new Error(`Attempt to close tag ${name} when not opened`);\n    }\n\n    const stashed = this.stack.pop();\n    const str = `</${name}>`;\n\n    if (stashed !== name) {\n      throw new Error(`Attempt to close tag ${name} when ${stashed} was the one open`);\n    }\n\n    this.cw.println(this.indent(str));\n  }\n  /**\n   * writes a tag and its value opening and closing it at the same time\n   * @param {String} name tag name\n   * @param {Object} [attrs=null] attrs tag attributes\n   * @param {String} [content=null] content optional tag content\n   */\n\n\n  inlineTag(name, attrs, content) {\n    let str = '<' + name + attrString(attrs);\n\n    if (content) {\n      str += `>${content}</${name}>`;\n    } else {\n      str += '/>';\n    }\n\n    str = this.indent(str);\n    this.cw.println(str);\n  }\n  /**\n   * closes all open tags and ends the document\n   */\n\n\n  closeAll() {\n    this.stack.slice().reverse().forEach(name => {\n      this.closeTag(name);\n    });\n  }\n\n}\n\nmodule.exports = XMLWriter;","map":{"version":3,"sources":["/Users/mdraghi/Development/code/Phase-3/Phase-3-Project/dotify/node_modules/istanbul-lib-report/lib/xml-writer.js"],"names":["INDENT","attrString","attrs","Object","entries","map","k","v","join","XMLWriter","constructor","contentWriter","cw","stack","indent","str","openTag","name","println","push","closeTag","length","Error","stashed","pop","inlineTag","content","closeAll","slice","reverse","forEach","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AACA,MAAMA,MAAM,GAAG,IAAf;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACvB,SAAOC,MAAM,CAACC,OAAP,CAAeF,KAAK,IAAI,EAAxB,EACFG,GADE,CACE;AAAA,QAAC,CAACC,CAAD,EAAIC,CAAJ,CAAD;AAAA,WAAa,IAAGD,CAAE,KAAIC,CAAE,GAAxB;AAAA,GADF,EAEFC,IAFE,CAEG,EAFH,CAAP;AAGH;AAED;AACA;AACA;AACA;AACA;;;AACA,MAAMC,SAAN,CAAgB;AACZC,EAAAA,WAAW,CAACC,aAAD,EAAgB;AACvB,SAAKC,EAAL,GAAUD,aAAV;AACA,SAAKE,KAAL,GAAa,EAAb;AACH;;AAEDC,EAAAA,MAAM,CAACC,GAAD,EAAM;AACR,WAAO,KAAKF,KAAL,CAAWR,GAAX,CAAe,MAAML,MAArB,EAA6BQ,IAA7B,CAAkC,EAAlC,IAAwCO,GAA/C;AACH;AAED;AACJ;AACA;AACA;AACA;;;AACIC,EAAAA,OAAO,CAACC,IAAD,EAAOf,KAAP,EAAc;AACjB,UAAMa,GAAG,GAAG,KAAKD,MAAL,CAAa,IAAGG,IAAI,GAAGhB,UAAU,CAACC,KAAD,CAAQ,GAAzC,CAAZ;AACA,SAAKU,EAAL,CAAQM,OAAR,CAAgBH,GAAhB;AACA,SAAKF,KAAL,CAAWM,IAAX,CAAgBF,IAAhB;AACH;AAED;AACJ;AACA;AACA;AACA;;;AACIG,EAAAA,QAAQ,CAACH,IAAD,EAAO;AACX,QAAI,KAAKJ,KAAL,CAAWQ,MAAX,KAAsB,CAA1B,EAA6B;AACzB,YAAM,IAAIC,KAAJ,CAAW,wBAAuBL,IAAK,kBAAvC,CAAN;AACH;;AACD,UAAMM,OAAO,GAAG,KAAKV,KAAL,CAAWW,GAAX,EAAhB;AACA,UAAMT,GAAG,GAAI,KAAIE,IAAK,GAAtB;;AAEA,QAAIM,OAAO,KAAKN,IAAhB,EAAsB;AAClB,YAAM,IAAIK,KAAJ,CACD,wBAAuBL,IAAK,SAAQM,OAAQ,mBAD3C,CAAN;AAGH;;AACD,SAAKX,EAAL,CAAQM,OAAR,CAAgB,KAAKJ,MAAL,CAAYC,GAAZ,CAAhB;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACIU,EAAAA,SAAS,CAACR,IAAD,EAAOf,KAAP,EAAcwB,OAAd,EAAuB;AAC5B,QAAIX,GAAG,GAAG,MAAME,IAAN,GAAahB,UAAU,CAACC,KAAD,CAAjC;;AACA,QAAIwB,OAAJ,EAAa;AACTX,MAAAA,GAAG,IAAK,IAAGW,OAAQ,KAAIT,IAAK,GAA5B;AACH,KAFD,MAEO;AACHF,MAAAA,GAAG,IAAI,IAAP;AACH;;AACDA,IAAAA,GAAG,GAAG,KAAKD,MAAL,CAAYC,GAAZ,CAAN;AACA,SAAKH,EAAL,CAAQM,OAAR,CAAgBH,GAAhB;AACH;AAED;AACJ;AACA;;;AACIY,EAAAA,QAAQ,GAAG;AACP,SAAKd,KAAL,CACKe,KADL,GAEKC,OAFL,GAGKC,OAHL,CAGab,IAAI,IAAI;AACb,WAAKG,QAAL,CAAcH,IAAd;AACH,KALL;AAMH;;AApEW;;AAuEhBc,MAAM,CAACC,OAAP,GAAiBvB,SAAjB","sourcesContent":["'use strict';\n/*\n Copyright 2012-2015, Yahoo Inc.\n Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nconst INDENT = '  ';\n\nfunction attrString(attrs) {\n    return Object.entries(attrs || {})\n        .map(([k, v]) => ` ${k}=\"${v}\"`)\n        .join('');\n}\n\n/**\n * a utility class to produce well-formed, indented XML\n * @param {ContentWriter} contentWriter the content writer that this utility wraps\n * @constructor\n */\nclass XMLWriter {\n    constructor(contentWriter) {\n        this.cw = contentWriter;\n        this.stack = [];\n    }\n\n    indent(str) {\n        return this.stack.map(() => INDENT).join('') + str;\n    }\n\n    /**\n     * writes the opening XML tag with the supplied attributes\n     * @param {String} name tag name\n     * @param {Object} [attrs=null] attrs attributes for the tag\n     */\n    openTag(name, attrs) {\n        const str = this.indent(`<${name + attrString(attrs)}>`);\n        this.cw.println(str);\n        this.stack.push(name);\n    }\n\n    /**\n     * closes an open XML tag.\n     * @param {String} name - tag name to close. This must match the writer's\n     *  notion of the tag that is currently open.\n     */\n    closeTag(name) {\n        if (this.stack.length === 0) {\n            throw new Error(`Attempt to close tag ${name} when not opened`);\n        }\n        const stashed = this.stack.pop();\n        const str = `</${name}>`;\n\n        if (stashed !== name) {\n            throw new Error(\n                `Attempt to close tag ${name} when ${stashed} was the one open`\n            );\n        }\n        this.cw.println(this.indent(str));\n    }\n\n    /**\n     * writes a tag and its value opening and closing it at the same time\n     * @param {String} name tag name\n     * @param {Object} [attrs=null] attrs tag attributes\n     * @param {String} [content=null] content optional tag content\n     */\n    inlineTag(name, attrs, content) {\n        let str = '<' + name + attrString(attrs);\n        if (content) {\n            str += `>${content}</${name}>`;\n        } else {\n            str += '/>';\n        }\n        str = this.indent(str);\n        this.cw.println(str);\n    }\n\n    /**\n     * closes all open tags and ends the document\n     */\n    closeAll() {\n        this.stack\n            .slice()\n            .reverse()\n            .forEach(name => {\n                this.closeTag(name);\n            });\n    }\n}\n\nmodule.exports = XMLWriter;\n"]},"metadata":{},"sourceType":"script"}